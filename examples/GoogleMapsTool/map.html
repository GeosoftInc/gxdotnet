<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>Google Maps Tool</title>

    <script src="http://maps.google.com/maps?file=api&amp;v=2&amp;key=<YOUR_API_KEY_HERE>"
        type="text/javascript"></script>

    <script type="text/javascript">
//<![CDATA[
var map;
function load() 
{
    var url = location.href.toLowerCase();
    var n1 = url.indexOf("?",0);
    var sa = url.substr(n1+1,url.length-n1).split("&");
    var i;

    for (i = 0; i<4 ; i++) 
    {                        
      if (sa[i].indexOf("x1=",0)!= -1){
         var x1=Number(sa[i].replace("x1=",""));
      }
      if (sa[i].indexOf("y1=",0)!= -1){
          var y1=Number(sa[i].replace("y1=",""));
      }
      if (sa[i].indexOf("x2=",0)!= -1){
          var x2=Number(sa[i].replace("x2=",""));
      }
      if (sa[i].indexOf("y2=",0)!= -1){
          var y2=Number(sa[i].replace("y2=",""));
      }
      
      ;                
    }

    if (GBrowserIsCompatible()) {
        var crossLayer = new GTileLayer(new GCopyrightCollection(""), 0, 15);
        crossLayer.getTileUrl =  function(tile, zoom) {return "./include/tile_crosshairs.png";}
        crossLayer.isPng = function() {return true;}
        var mElm = document.getElementById("map");
        var h = document.documentElement.clientHeight - 30;
        var w = document.documentElement.clientWidth  - 30;
        if (h<400) {h=600};
        mElm.style.height = h + "px";
        if (w<468) {w=468};
        mElm.style.width = w + "px";

        var layerTerCross = [ G_PHYSICAL_MAP.getTileLayers()[0], crossLayer ];
        var mtTerCross = new GMapType(layerTerCross, G_PHYSICAL_MAP.getProjection(), "Cross");

        layerTerCross = [ G_SATELLITE_MAP.getTileLayers()[0]];
        var mtSatellite = new GMapType(layerTerCross, G_SATELLITE_MAP.getProjection(), "Satellite");

        layerTerCross = [ G_NORMAL_MAP.getTileLayers()[0]];
        var mtGeographical = new GMapType(layerTerCross, G_NORMAL_MAP.getProjection(), "Geographical");

        layerTerCross = [ G_PHYSICAL_MAP.getTileLayers()[0]];
        var mtLandscape = new GMapType(layerTerCross, G_PHYSICAL_MAP.getProjection(), "Landscape");

        map = new GMap2(mElm);
        map.addControl(new GOverviewMapControl());
        map.addMapType(mtGeographical);
        map.addMapType(mtSatellite);
        map.addMapType(mtLandscape);
        map.addMapType(mtTerCross);
        map.removeMapType(G_SATELLITE_MAP);
        map.removeMapType(G_NORMAL_MAP);

        var sw = new GLatLng(y1, x1);
        var ne = new GLatLng(y2, x2);

        var GBounds = new GLatLngBounds(sw,ne);
        map.setCenter(GBounds.getCenter(), map.getBoundsZoomLevel(GBounds));
        map.addControl(new GLargeMapControl());
        var mapControl = new GHierarchicalMapTypeControl();
        mapControl.clearRelationships();

        mapControl.addRelationship(mtLandscape, mtTerCross, "Hybrid");
        mapControl.addRelationship(mtSatellite, G_HYBRID_MAP, "Hybrid",false);

        map.addControl(mapControl);
    }
}
//]]></script>

    <script type="text/javascript">
	 	//<![CDATA[



function Gresize(){
  
  var mElm = document.getElementById("map") ;
  var h = document.documentElement.clientHeight - 30;
  var w = document.documentElement.clientWidth - 30;


    if (h<400) {h=600};
    if (w<468) {w=468};

    
    mElm.style.height = h + "px";
    mElm.style.width = w +"px";
}    

function GFocus(){

}

	 	//]]>
    </script>

</head>
<body onload="load()" onunload="GUnload()" onresize="Gresize()" onfocus="GFocus()">
    <div id="map" style="width: 500px; height: 300px">
    </div>
</body>
</html>
